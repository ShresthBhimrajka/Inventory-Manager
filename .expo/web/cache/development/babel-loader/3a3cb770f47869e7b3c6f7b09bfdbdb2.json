{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport firebase from 'firebase';\nimport 'firebase/firestore';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nexport function registrationAdmin(orgname, email, password, phone, name) {\n  var currentUser, orgcode, db;\n  return _regeneratorRuntime.async(function registrationAdmin$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(email, password));\n\n        case 3:\n          currentUser = firebase.auth().currentUser;\n          orgname = orgname.trim();\n          orgcode = new String(orgname.substring(0, 3) + orgname.substring(orgname.length - 3));\n          db = firebase.firestore();\n          db.collection('allusers').doc(currentUser.uid).set({\n            orgname: orgname,\n            access: 'admin',\n            name: name\n          });\n          db.collection('organizations').doc(orgname).collection('users').doc(currentUser.uid).set({\n            name: name,\n            email: email,\n            access: 'admin',\n            phone: phone,\n            id: currentUser.uid,\n            orgcode: orgcode\n          });\n          db.collection('allorgs').doc(orgcode).set({\n            name: orgname\n          });\n          _context.next = 15;\n          break;\n\n        case 12:\n          _context.prev = 12;\n          _context.t0 = _context[\"catch\"](0);\n          Alert.alert('There is something wrong!!!!', _context.t0.message);\n\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 12]], Promise);\n}\nexport function registrationEmployee(email, password, name, phone, orgcode) {\n  var currentUser, db, docorg, dataObj, orgname;\n  return _regeneratorRuntime.async(function registrationEmployee$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(email, password));\n\n        case 3:\n          currentUser = firebase.auth().currentUser;\n          orgcode = orgcode.trim();\n          orgcode = new String(orgcode);\n          db = firebase.firestore();\n          _context2.next = 9;\n          return _regeneratorRuntime.awrap(db.collection('allorgs').doc(orgcode).get());\n\n        case 9:\n          docorg = _context2.sent;\n\n          if (!docorg.exists) {\n            Alert.alert('Organization Code invalid !');\n          } else {\n            dataObj = docorg.data();\n            orgname = dataObj.name;\n            db.collection('allusers').doc(currentUser.uid).set({\n              orgname: orgname,\n              access: 'emp',\n              name: name\n            });\n            db.collection('organizations').doc(orgname).collection('users').doc(currentUser.uid).set({\n              name: name,\n              email: email,\n              access: 'emp',\n              phone: phone,\n              id: currentUser.uid\n            });\n          }\n\n          _context2.next = 16;\n          break;\n\n        case 13:\n          _context2.prev = 13;\n          _context2.t0 = _context2[\"catch\"](0);\n          Alert.alert('There is something wrong!!!!', _context2.t0.message);\n\n        case 16:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 13]], Promise);\n}\nexport function signIn(email, password) {\n  return _regeneratorRuntime.async(function signIn$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(email, password));\n\n        case 3:\n          _context3.next = 8;\n          break;\n\n        case 5:\n          _context3.prev = 5;\n          _context3.t0 = _context3[\"catch\"](0);\n          Alert.alert('There is something wrong!', _context3.t0.message);\n\n        case 8:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n}\nexport function loggingOut() {\n  return _regeneratorRuntime.async(function loggingOut$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().signOut());\n\n        case 3:\n          _context4.next = 8;\n          break;\n\n        case 5:\n          _context4.prev = 5;\n          _context4.t0 = _context4[\"catch\"](0);\n          Alert.alert('There is something wrong!', _context4.t0.message);\n\n        case 8:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n}\nexport function resetPassword(email) {\n  return _regeneratorRuntime.async(function resetPassword$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().sendPasswordResetEmail(email));\n\n        case 3:\n          Alert.alert('Password rest link sent to your registered email address');\n          _context5.next = 9;\n          break;\n\n        case 6:\n          _context5.prev = 6;\n          _context5.t0 = _context5[\"catch\"](0);\n          Alert.alert('There is something wrong!', _context5.t0.message);\n\n        case 9:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, null, null, [[0, 6]], Promise);\n}\nexport function removeUser(item, orgname) {\n  var res1, res2;\n  return _regeneratorRuntime.async(function removeUser$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _context6.next = 3;\n          return _regeneratorRuntime.awrap(firebase.firestore().collection('allusers').doc(item.id).delete());\n\n        case 3:\n          res1 = _context6.sent;\n          _context6.next = 6;\n          return _regeneratorRuntime.awrap(firebase.firestore().collection('organizations').doc(orgname).collection('users').doc(item.id).delete());\n\n        case 6:\n          res2 = _context6.sent;\n\n          if (res1 && res2) {\n            Alert.alert('Employee successfully removed');\n          }\n\n          _context6.next = 13;\n          break;\n\n        case 10:\n          _context6.prev = 10;\n          _context6.t0 = _context6[\"catch\"](0);\n          Alert.alert('There is something wrong!', _context6.t0.message);\n\n        case 13:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, null, null, [[0, 10]], Promise);\n}\nexport function promote(item, orgname) {\n  var name, id, email, access, phone, orgcode, db1, db2;\n  return _regeneratorRuntime.async(function promote$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          try {\n            name = item.name;\n            id = item.id;\n            email = item.email;\n            access = 'admin';\n            phone = item.phone;\n            orgname = orgname;\n            orgcode = orgname.substring(0, 3) + orgname.substring(orgname.length - 3);\n            db1 = firebase.firestore().collection('allusers').doc(id);\n            db1.set({\n              access: access,\n              name: name,\n              orgname: orgname,\n              orgcode: orgcode\n            });\n            db2 = firebase.firestore().collection('organizations').doc(orgname).collection('users').doc(id);\n            db2.set({\n              name: name,\n              email: email,\n              id: id,\n              access: access,\n              phone: phone\n            });\n          } catch (err) {\n            Alert.alert('There is something wrong !!!', err.message);\n          }\n\n        case 1:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"sources":["C:/Users/Dell/Documents/GitHub/Inventory-Manager/Authentication.js"],"names":["firebase","registrationAdmin","orgname","email","password","phone","name","auth","createUserWithEmailAndPassword","currentUser","trim","orgcode","String","substring","length","db","firestore","collection","doc","uid","set","access","id","Alert","alert","message","registrationEmployee","get","docorg","exists","dataObj","data","signIn","signInWithEmailAndPassword","loggingOut","signOut","resetPassword","sendPasswordResetEmail","removeUser","item","delete","res1","res2","promote","db1","db2","err"],"mappings":"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","sourcesContent":["import firebase from 'firebase';\r\nimport 'firebase/firestore';\r\nimport {Alert} from 'react-native';\r\n\r\nexport async function registrationAdmin(orgname, email, password, phone, name) {\r\n  try {\r\n    await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n    const currentUser = firebase.auth().currentUser;\r\n\r\n    orgname = orgname.trim();\r\n    const orgcode = new String(orgname.substring(0,3) + orgname.substring(orgname.length-3));\r\n\r\n    const db = firebase.firestore();\r\n\r\n    db.collection('allusers').doc(currentUser.uid).set({\r\n        orgname: orgname,\r\n        access: 'admin',\r\n        name: name,\r\n      });\r\n\r\n    db.collection('organizations').doc(orgname).collection('users').doc(currentUser.uid).set({\r\n      name: name,\r\n      email: email,\r\n      access: 'admin',\r\n      phone: phone,\r\n      id: currentUser.uid,\r\n      orgcode: orgcode\r\n    });\r\n\r\n    db.collection('allorgs').doc(orgcode).set({\r\n      name: orgname\r\n    });\r\n\r\n  } catch (err) {\r\n    Alert.alert('There is something wrong!!!!', err.message);\r\n  }\r\n}\r\n\r\nexport async function registrationEmployee(email, password, name, phone, orgcode) {\r\n  try {\r\n    await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n    const currentUser = firebase.auth().currentUser;\r\n\r\n    orgcode = orgcode.trim();\r\n    orgcode = new String(orgcode);\r\n\r\n    const db = firebase.firestore();\r\n    let docorg = await db.collection('allorgs').doc(orgcode).get();\r\n\r\n    if(!docorg.exists){\r\n      Alert.alert('Organization Code invalid !');\r\n    }\r\n    else{\r\n      let dataObj = docorg.data();\r\n      const orgname = dataObj.name;\r\n\r\n      db.collection('allusers').doc(currentUser.uid).set({\r\n        orgname: orgname,\r\n        access: 'emp',\r\n        name: name,\r\n      });\r\n      \r\n      db.collection('organizations').doc(orgname).collection('users').doc(currentUser.uid).set({\r\n        name: name,\r\n        email: email,\r\n        access: 'emp',\r\n        phone: phone,\r\n        id: currentUser.uid\r\n      });\r\n    }\r\n\r\n  } catch (err) {\r\n    Alert.alert('There is something wrong!!!!', err.message);\r\n  }\r\n}\r\n\r\nexport async function signIn(email, password) {\r\n  try {\r\n   await firebase.auth().signInWithEmailAndPassword(email, password);\r\n  } catch (err) {\r\n    Alert.alert('There is something wrong!', err.message);\r\n  }\r\n}\r\n\r\nexport async function loggingOut() {\r\n  try {\r\n    await firebase.auth().signOut();\r\n  } catch (err) {\r\n    Alert.alert('There is something wrong!', err.message);\r\n  }\r\n}\r\n\r\nexport async function resetPassword(email) {\r\n  try {\r\n    await firebase.auth().sendPasswordResetEmail(email);\r\n    Alert.alert('Password rest link sent to your registered email address');\r\n  } catch (err) {\r\n    Alert.alert('There is something wrong!', err.message);\r\n  }\r\n}\r\n\r\nexport async function removeUser(item, orgname) {\r\n  try {\r\n    const res1 = await firebase.firestore().collection('allusers').doc(item.id).delete();\r\n    const res2 = await firebase.firestore().collection('organizations').doc(orgname).collection('users').doc(item.id).delete();\r\n    if( res1 && res2 ){\r\n        Alert.alert('Employee successfully removed');\r\n    }\r\n  } catch (err) {\r\n    Alert.alert('There is something wrong!', err.message);\r\n  }\r\n}\r\n\r\nexport async function promote(item, orgname) {\r\n  try {\r\n    const name = item.name;\r\n    const id = item.id;\r\n    const email = item.email;\r\n    const access = 'admin';\r\n    const phone = item.phone;\r\n    orgname = orgname;\r\n    const orgcode = orgname.substring(0,3) + orgname.substring(orgname.length-3);\r\n    const db1 = firebase.firestore().collection('allusers').doc(id);\r\n    db1.set({\r\n      access: access,\r\n      name: name,\r\n      orgname: orgname,\r\n      orgcode: orgcode\r\n    });\r\n    const db2 = firebase.firestore().collection('organizations').doc(orgname).collection('users').doc(id);\r\n    db2.set({\r\n      name: name,\r\n      email: email,\r\n      id: id,\r\n      access: access,\r\n      phone: phone\r\n    });\r\n  } catch (err) {\r\n      Alert.alert('There is something wrong !!!', err.message);\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}